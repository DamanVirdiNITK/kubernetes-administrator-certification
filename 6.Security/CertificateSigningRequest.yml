kind: CertificateSigningRequest
apiVersion: certificates.k8s.io/v1
metadata:
   name: user1
spec:
  groups:
    - system:authenticated
  request: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0KTUlJQ2FqQ0NBVklDQVFBd0pURVNNQkFHQTFVRUF3d0pjSEp2WkMxMWMyVnlNUTh3RFFZRFZRUUtEQVprWlhadgpjSE13Z2dFaU1BMEdDU3FHU0liM0RRRUJBUVVBQTRJQkR3QXdnZ0VLQW9JQkFRRGtHdWgxejFxR3ZSNmxUbktTClE3bGgxS3YrYjFPa0ZMWXV6VklvbHV6TDdtNTFjY05mQ0R6RDVWVUlLTWRZZzR6L3VZVjJjSUZBU2lUVDh6UlQKQlp0NWtPY0ROSXRZbVk5MVp6UGI0U3RGMVNBOGd2RmxPS3FSTnZwSGlGUEhVZGN0R3dCa3UzbnJZaDM2Y0o5Ngpod2J5cXZ1MDFCT0htWHN1emJraW1WQnVIVFRYSHRnUGU5OTF0bkgxekJUbG5lcHlxMm4wV0l3Vk1PQlpxeCtNCjVkRml5ZC9tbFZLeHhkUGlIVkxVU3hBbTd1eGI2T1g2NG1SWlI1R0tlbkJRUDZlWEhqY2N6cXc3TDBGbkxmWVgKVGdpVVNZcnR6UVdkM0NOL09raGo4Zy9EN2EzVW1DZm55a0RtZGZBNUZQcXZrSCtCNFIxdUtOVDBqaW45TFpwbwpsS0ZuQWdNQkFBR2dBREFOQmdrcWhraUc5dzBCQVFzRkFBT0NBUUVBM3lYSHBpakNGVE5OZkQ4NzNJeTEvNVpECkJSK1lPU3RDaVR2S3BZZmRlaStRcTRGMlI5T1NnNml5Z0tKclhuVHI1RTRBSDZPVDltblU2Zk9PU0xnQ1pzVFoKZWN0RHBvd3JEN1o1OUU4bGhSL2h1ZXV4Qkd2RHl4RUdLMFZQN2ZRNXNnR1p6OWdXdnIyNkZlcmUyQlNmTHBxOQpiR292c2g5eFhYSW9JemFtZUJTOHZGaEFCVmdOS0lXcVBiMmxGaG80eEdkbHpOQ0poMUlJMWZoUW9ZcnFqOFFUCi9BR2k5Y3pST1VuUlNqUWk3U3pQcXB2TkRjajhVWDFSckJtWjJoTnNqV01hNXJRS2lJaWxnbThXemJRVWRLNDgKOGNEOVVmeFdXZWxhaWdqY2xRc2NtakdycEp6ZnN6dktoUnlIOWV5VlRieFBqZXhhditsbHF4S3hqS3hMV2c9PQotLS0tLUVORCBDRVJUSUZJQ0FURSBSRVFVRVNULS0tLS0K

  signerName: kubernetes.io/kube-apiserver-client
  #expirationSeconds: 86400
  usages:
  - client auth


# openssl genrsa -out user1.key 2048
# openssl req -config csr.conf -new -key user1.key -nodes -out user1.csr
# cat user1.csr | base64 | tr -d '\n'
# kubectl apply -f csr.yml
# kubectl get csr ; kubectl certificate approve prod-user
# kubectl get csr prod-user -o jsonpath="{.status.certificate}" | base64 --decode > user1.crt
# modify kubeconfig with 